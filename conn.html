<!DOCTYPE html>
 <html lang="fr">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>exo ajax</title>
    <!-- cdn bppt -->
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
 </head>
 <body>
     <h1>Exo Ajax</h1>
       <div class="container">
            <form class="col-md-4" method="post" action="" enctype="multipart/form-data">
                <div>
                    <div><label for="pseudo">Pseudo</label></div>
                    <div><input type="text" name="pseudo" id="pseudo"></div>
                </div>
                <div>
                    <div><label for="mdp">Mot de passe</label></div>
                    <div><input type="password" name="mdp" id="mdp" ></div>
                </div>
            </form>
​
       
                <script>
                    $(function(){
                        $('form').submit(function(e){
                           e.preventDefault(); // Pour bloquer l'envoi du formulaire qui rafraichit le navigateur
       
                           let pseudo = $('#pseudo').val(); // On récupère la valeur saisie dans le champs #email.
                           let mdp = $('#mdp').val();
       
                           // 2- Fonction de traitement de la réponse du serveur :
                           function reponse(reponsePHP) { // Ce paramètre reçoit automatiquement la réponse du serveur
                               console.log(reponsePHP); // On reçoit bien du HTML du serveur
​
                               if (reponsePHP) { // si la réponse existe, on l'affiche 
                               $('#membre').html(reponsePHP);
       
                               }                        
                           }       
       
       
                           // 1- Envoi de l'email au serveur avec une requête en POST : 
                           $.post('connexion.php',  {pseudo : pseudo }, reponse, 'html'); // On envoie les données en POST. 4 arguments : URL du fichier de destination, les données envoyées sous forme d'objet ou de string selon la syntaxe "propriete=valeur", la fonction de la réponse (ici on attend du HTML).    $.post() est équivalent  à jQuery.post().
                        //    $.post('connexion.php',  {mdp : mdp }, reponse, 'html');
       
                        }); // fin du submit  
                    }); // Fin du document ready
                </script>
            </form>
        </div>
​
 </body>
 </html>




